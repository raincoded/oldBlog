{"version":3,"sources":["webpack:///./src/views/Edit.vue?23d6","webpack:///src/views/Edit.vue","webpack:///./src/views/Edit.vue?7733","webpack:///./src/views/Edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","article","tags","length","curTag","pushTag","_v","_l","tag","index","key","_s","deleteTag","_e","submitHtml","staticRenderFns","data","methods","console","log","editor2","txt","html","splice","push","mounted","wangEditor","customConfig","zIndex","showLinkImg","uploadImgMaxSize","uploadImgMaxLength","debug","customUploadImg","formData","append","files","res","code","insert","menus","create","watch","component"],"mappings":"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","file":"js/Edit.c4f2763c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 d-flex justify-content-between align-items-center pb-2\"},[_c('div',{staticClass:\"input-group mb-3 col-12\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.article),expression:\"article\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"标题\",\"aria-label\":\"title\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":(_vm.article)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.article=$event.target.value}}})])]),_c('div',{staticClass:\"col-12 d-flex justify-content-between align-items-center pb-2\"},[_c('div',{staticClass:\"input-group mb-3 col-5\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curTag),expression:\"curTag\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"标签\",\"aria-label\":\"tag\",\"aria-describedby\":\"basic-addon1\",\"disabled\":_vm.tags.length >= 3},domProps:{\"value\":(_vm.curTag)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.curTag=$event.target.value}}}),_c('button',{staticClass:\"btn btn-success\",attrs:{\"disabled\":_vm.tags.length >= 3},on:{\"click\":_vm.pushTag}},[_vm._v(\" 添加 \")])]),(_vm.tags.length > 0)?_c('div',{staticClass:\"col-7 d-flex mb-3\"},_vm._l((_vm.tags),function(tag,index){return _c('div',{key:tag,staticClass:\"mr-1 border rounded bg-success text-white lineheight-center\"},[_c('span',{staticClass:\"px-3\"},[_vm._v(_vm._s(tag))]),_c('button',{staticClass:\"bg-danger border-0 text-white\",attrs:{\"aria-label\":\"取消\"},on:{\"click\":function($event){return _vm.deleteTag(index)}}},[_vm._v(\" × \")])])}),0):_vm._e()]),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"editor\"}}),_c('div',{staticClass:\"col-12\"},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.submitHtml}},[_vm._v(\" 发布 \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\",attrs:{\"id\":\"basic-addon1\"}},[_vm._v(\"文章标题\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-prepend\"},[_c('span',{staticClass:\"input-group-text\",attrs:{\"id\":\"basic-addon1\"}},[_vm._v(\"文章标签\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 发布文章的编辑器 -->\r\n  <div class=\"row\">\r\n    <div class=\"col-12 d-flex justify-content-between align-items-center pb-2\">\r\n      <div class=\"input-group mb-3 col-12\">\r\n        <div class=\"input-group-prepend\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">文章标题</span>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"标题\"\r\n          aria-label=\"title\"\r\n          aria-describedby=\"basic-addon1\"\r\n          v-model=\"article\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"col-12 d-flex justify-content-between align-items-center pb-2\">\r\n      <div class=\"input-group mb-3 col-5\">\r\n        <div class=\"input-group-prepend\">\r\n          <span class=\"input-group-text\" id=\"basic-addon1\">文章标签</span>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"标签\"\r\n          aria-label=\"tag\"\r\n          aria-describedby=\"basic-addon1\"\r\n          :disabled=\"tags.length >= 3\"\r\n          v-model=\"curTag\"\r\n        />\r\n        <button\r\n          class=\"btn btn-success\"\r\n          :disabled=\"tags.length >= 3\"\r\n          @click=\"pushTag\"\r\n        >\r\n          添加\r\n        </button>\r\n      </div>\r\n      <div v-if=\"tags.length > 0\" class=\"col-7 d-flex mb-3\">\r\n        <div\r\n          v-for=\"(tag, index) of tags\"\r\n          :key=\"tag\"\r\n          class=\"mr-1 border rounded bg-success text-white lineheight-center\"\r\n        >\r\n          <span class=\"px-3\">{{ tag }}</span>\r\n          <button\r\n            class=\"bg-danger border-0 text-white\"\r\n            aria-label=\"取消\"\r\n            @click=\"deleteTag(index)\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"editor\" class=\"col-12\"></div>\r\n    <div class=\"col-12\">\r\n      <button type=\"button\" class=\"btn btn-success\" @click=\"submitHtml\">\r\n        发布\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ajaxIndex from \"@/ajax/index.js\";\r\nimport ajaxStatic from \"@/ajax/static.js\";\r\nimport xss from \"xss\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      article: \"\",\r\n      tags: [1, 2, 4],\r\n      curTag: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    submitHtml() {\r\n      console.log(this.editor2.txt.html());\r\n    },\r\n    deleteTag(index) {\r\n      this.tags.splice(index, 1);\r\n    },\r\n    pushTag() {\r\n      this.tags.push(this.curTag);\r\n    },\r\n  },\r\n  mounted() {\r\n    // console.log(this.eleId);\r\n    this.editor2 = new wangEditor(`#editor`);\r\n    this.editor2.customConfig.zIndex = 0;\r\n    // 隐藏“网络图片”tab\r\n    this.editor2.customConfig.showLinkImg = false;\r\n    // 将图片大小限制为 3M\r\n    this.editor2.customConfig.uploadImgMaxSize = 3 * 1024 * 1024;\r\n    // 限制一次最多上传 1 张图片\r\n    this.editor2.customConfig.uploadImgMaxLength = 1;\r\n    this.editor2.customConfig.debug = true;\r\n\r\n    this.editor2.customConfig.customUploadImg = (files, insert) => {\r\n      // files 是 input 中选中的文件列表\r\n      // insert 是获取图片 url 后，插入到编辑器的方法\r\n      const formData = new FormData();\r\n      formData.append(\"img\", files[0]);\r\n      ajaxStatic.uploadImg(formData).then((res) => {\r\n        console.log(res);\r\n        if (res.code === 0) {\r\n          // 上传代码返回结果之后，将图片插入到编辑器中\r\n          console.log(\"路径\", res.data);\r\n          insert(res.data);\r\n        }\r\n      });\r\n    };\r\n\r\n    this.editor2.customConfig.menus = [\r\n      \"head\", // 标题\r\n      \"bold\", // 粗体\r\n      \"fontSize\", // 字号\r\n      \"fontName\", // 字体\r\n      \"italic\", // 斜体\r\n      \"underline\", // 下划线\r\n      \"strikeThrough\", // 删除线\r\n      \"foreColor\", // 文字颜色\r\n      \"backColor\", // 背景颜色\r\n      \"link\", // 插入链接\r\n      \"list\", // 列表\r\n      \"justify\", // 对齐方式\r\n      \"quote\", // 引用\r\n      \"image\", // 插入图片\r\n      \"code\", // 插入代码\r\n    ];\r\n    this.editor2.create();\r\n  },\r\n  watch:{\r\n    article(newValue,oldValue){\r\n      return xss(newValue)\r\n    },\r\n    curTag(newValue,oldValue){\r\n      return xss(newValue)\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=1029be3f&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1029be3f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}